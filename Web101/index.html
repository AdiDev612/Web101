<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="logo">Dashboard</div>
      <nav class="nav">
        <a class="nav-link active" href="#" id="dashboardNav">
          <span class="icon">‚öôÔ∏è</span>
          <span>Dashboard</span>
        </a>
        <div class="nav-group">
          <button class="nav-link toggle" type="button" id="profileToggle" aria-expanded="false" aria-controls="profileMenu">
            <div class="left">
              <span class="icon">üë§</span>
              <span>Profiles</span>
            </div>
            <span class="chevron">‚ñæ</span>
          </button>
          <div class="submenu" id="profileMenu" role="menu">
            <a href="#" role="menuitem" data-profile="profile1">Adrian Rullan</a>
            <a href="#" role="menuitem" data-profile="profile2">Andrie Antinew</a>
            <a href="#" role="menuitem" data-profile="profile3">Norhanna Ali</a>
            <a href="#" role="menuitem" data-profile="profile4">Daren Ulep</a>
            <a href="#" role="menuitem" data-profile="profile5">Lyka Javier</a>
          </div>
        </div>
      </nav>
      <button class="logout">
        <span>‚Ü©</span>
        
      </button>
    </aside>

    <main class="dashboard">
      <header class="dashboard-header">
        <div>
          <h1 id="pageTitle">Dashboard</h1>
        </div>
      </header>

      <section class="member-card" id="memberCard" aria-live="polite">
        <div>
          <p class="label">Members</p>
          <h2>5</h2>
          <p class="helper">Total Group Members</p>
        </div>
        <span class="badge">üë•</span>
      </section>

      <section class="profile-card hidden" id="profilePanel" aria-live="polite">
        <div class="profile-left">
          <div class="profile-avatar">
            <img src="" alt="Profile avatar" />
          </div>
          <div class="profile-info">
            <h2 id="profileName"></h2>
          </div>
          <ul class="profile-details">
            <li>
              <span>Age:</span>
              <strong id="profileAge"></strong>
            </li>
            <li>
              <span>Address:</span>
              <strong id="profileAddress"></strong>
            </li>
            <li>
              <span>Contact No:</span>
              <strong id="profileNumber"></strong>
            </li>
            <li>
              <span>Email:</span>
              <strong id="profileEmail"></strong>
            </li>
          </ul>
        </div>
      </section>
    </main>
  </div>
</body>

<script>
  const profileToggle = document.getElementById('profileToggle');
  const profileMenu = document.getElementById('profileMenu');
  const profilePanel = document.getElementById('profilePanel');
  const memberCard = document.getElementById('memberCard');
  const dashboardNav = document.getElementById('dashboardNav');
  const pageTitle = document.getElementById('pageTitle');

  const profileName = document.getElementById('profileName');
  const profileAge = document.getElementById('profileAge');
  const profileAddress = document.getElementById('profileAddress');
  const profileNumber = document.getElementById('profileNumber');
  const profileEmail = document.getElementById('profileEmail');

  const profileData = {
    profile1: {
      name: 'Rullan, Adrian E.',
      age: '19',
      address: 'Blk 2 Lot 20 California Dreamhomes, Brgy. San Bartolome Qc.',
      number: '09947830811',
      email: 'adrianrullan62@gmail.com',
      avatar: 'Avatar/Adrian.png'
    },
    profile2: {
      name:'Antinew, Andrie O.',
      age:'19',
      address: 'Blk14 lot 4 asamab comp',
      number: '09619193621',
      email: 'andrieantinew6@gmail.com',
      avatar: '#'
    },
    profile3: {
      name: 'Ali, Norhanna M.',
      age: '19',
      address: '288, St, Paul Street. Brgy Holy Spirit Q.C',
      number: '09814752889',
      email: 'norhannahali1@gmail.com',
      avatar: '#'
    },
    profile4: {
      name: 'Ulep, Daren M.',
      age: '19',
      address: '1414 Sampaguita Street, Maria Tala Caloocan City',
      number: '09638256654',
      email: 'thedarenu@gmail.com',
      avatar: '#'
    },
    profile5: {
      name: 'Javier, Lyka Lyn L.',
      age: '21',
      address: 'Lot 22-F Blk 1, Agoo st. New Haven Village,Brgy. Kaligayahan, Novaliches, Qc',
      number: '09679158992',
      email: 'lykalyn642@gmail.com',
      avatar: '#'
    }
  };

  const profileAvatar = document.querySelector('#profilePanel img');
  const VIEW_STATE_KEY = 'appViewState';

  const saveViewState = (state) => {
    try {
      localStorage.setItem(VIEW_STATE_KEY, JSON.stringify(state));
    } catch {
      // ignore storage errors in private mode
    }
  };

  const getSavedViewState = () => {
    try {
      const raw = localStorage.getItem(VIEW_STATE_KEY);
      return raw ? JSON.parse(raw) : null;
    } catch {
      return null;
    }
  };

  const showDashboard = (persist = true) => {
    memberCard?.classList.remove('hidden');
    profilePanel?.classList.add('hidden');
    profileMenu?.classList.remove('open');
    profileToggle?.setAttribute('aria-expanded', 'false');
    profileMenu?.querySelectorAll('a').forEach((link) => link.classList.remove('active'));
    dashboardNav?.classList.add('active');
    profileToggle?.classList.remove('active');
    if (pageTitle) pageTitle.textContent = 'Dashboard';
    if (persist) saveViewState({ view: 'dashboard' });
  };

  const showProfile = (profileId, persist = true) => {
    const data = profileData[profileId];
    if (!data) return;
    if (profileName) profileName.textContent = data.name;
    if (profileAge) profileAge.textContent = data.age;
    if (profileAddress) profileAddress.textContent = data.address;
    if (profileNumber) profileNumber.textContent = data.number;
    if (profileEmail) profileEmail.textContent = data.email;
    if (profileAvatar) profileAvatar.src = data.avatar;
    profileMenu?.classList.add('open');
    profileToggle?.setAttribute('aria-expanded', 'true');
    profileMenu?.querySelectorAll('a').forEach((link) => {
      if (link instanceof HTMLElement) {
        link.classList.toggle('active', link.dataset.profile === profileId);
      }
    });
    profilePanel?.classList.remove('hidden');
    memberCard?.classList.add('hidden');
    dashboardNav?.classList.remove('active');
    profileToggle?.classList.add('active');
    if (pageTitle) pageTitle.textContent = 'Profile';
    if (persist) saveViewState({ view: 'profile', profileId });
  };

  if (profileToggle && profileMenu) {
    profileToggle.addEventListener('click', () => {
      const isOpen = profileMenu.classList.toggle('open');
      profileToggle.setAttribute('aria-expanded', isOpen);
      if (isOpen) {
        profileToggle.classList.add('active');
        dashboardNav?.classList.remove('active');
      } else if (!profileMenu.querySelector('.active')) {
        showDashboard();
      }
    });
  }

  profileMenu?.addEventListener('click', (event) => {
    const target = event.target;
    if (target instanceof HTMLElement && target.dataset.profile) {
      event.preventDefault();
      showProfile(target.dataset.profile);
    }
  });

  dashboardNav?.addEventListener('click', (event) => {
    event.preventDefault();
    showDashboard();
  });

  const savedState = getSavedViewState();
  if (savedState?.view === 'profile' && savedState.profileId) {
    showProfile(savedState.profileId, false);
  } else {
    showDashboard(false);
  }
</script>

</html>




